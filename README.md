# 学生图片上传与点评系统

一个完整的Web应用程序，支持学生上传图片作品，查看所有作品，以及互动点赞功能。

## 功能特点

### 学生功能
- 📤 **图片上传**: 支持拖拽上传，多种图片格式
- 👤 **学生信息**: 填写姓名和学号
- 🖼️ **预览功能**: 上传前可预览图片
- 📱 **响应式设计**: 支持手机和电脑访问

### 教师功能
- 📝 **在线点评**: 查看所有学生上传的图片
- 🎯 **打分系统**: 0-100分评分
- 💬 **评语功能**: 添加详细评语
- ✏️ **修改点评**: 可以修改已有的点评
- 🗑️ **删除管理**: 删除不合适的图片

### 系统特性
- 🚀 **实时更新**: 上传和点评实时显示
- 💾 **数据持久化**: SQLite数据库存储
- 🔒 **文件安全**: 文件类型和大小限制
- 📊 **完整记录**: 保存上传时间和点评时间

## 技术栈

- **后端**: Node.js + Express
- **数据库**: SQLite3
- **文件上传**: Multer
- **前端**: 原生HTML/CSS/JavaScript
- **样式**: 现代化响应式设计

## 快速开始

### 1. 安装依赖
```bash
npm install
```

### 2. 启动服务
```bash
npm start
```

### 3. 访问系统
打开浏览器访问: http://localhost:3001

## 开发模式

使用nodemon自动重启服务:
```bash
npm run dev
```

## 项目结构

```
student-image-review-system/
├── server.js              # 后端服务器主文件
├── package.json           # 项目配置和依赖
├── README.md             # 项目说明文档
├── public/               # 前端静态文件
│   └── index.html        # 主页面
├── uploads/              # 图片上传目录
└── student_images.db     # SQLite数据库文件
```

## API接口

### 上传图片
- **POST** `/api/upload`
- **参数**: 
  - `studentName`: 学生姓名
  - `studentId`: 学号
  - `image`: 图片文件

### 获取图片列表
- **GET** `/api/images`
- **返回**: 所有图片及其点评信息

### 提交点评
- **POST** `/api/review`
- **参数**:
  - `imageId`: 图片ID
  - `teacherName`: 教师姓名
  - `score`: 分数(0-100)
  - `comment`: 评语

### 删除图片
- **DELETE** `/api/images/:id`
- **参数**: 图片ID

## 使用说明

### 学生使用
1. 打开系统首页
2. 点击「学生上传」标签
3. 填写姓名和学号
4. 点击上传区域或拖拽图片文件
5. 点击「上传图片」按钮

### 教师使用
1. 点击「教师点评」标签
2. 填写教师姓名
3. 查看学生上传的图片
4. 为每张图片打分(0-100分)
5. 添加评语(可选)
6. 点击「提交点评」

## 配置说明

### 文件上传限制
- 支持格式: JPG, PNG, GIF, WebP
- 文件大小: 最大10MB
- 存储位置: `uploads/` 目录

### 数据库
- 类型: SQLite3
- 文件: `student_images.db`
- 表结构:
  - `student_images`: 存储图片信息
  - `reviews`: 存储点评信息

## 部署说明

### 生产环境部署
1. 设置环境变量 `PORT`
2. 确保 `uploads/` 目录有写权限
3. 运行 `npm start`

### Docker部署(可选)
```dockerfile
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3001
CMD ["npm", "start"]
```

## 注意事项

1. **数据备份**: 定期备份 `student_images.db` 和 `uploads/` 目录
2. **权限控制**: 当前版本未实现用户认证，建议在内网使用
3. **存储空间**: 注意监控上传文件占用的磁盘空间
4. **性能优化**: 大量图片时建议添加分页功能

## 常见问题

**Q: 上传失败怎么办？**
A: 检查文件格式和大小是否符合要求，确保网络连接正常。

**Q: 图片显示不出来？**
A: 确保 `uploads/` 目录存在且有正确的权限设置。

**Q: 数据库错误？**
A: 检查 SQLite 数据库文件权限，必要时删除重新创建。

## 更新日志

### v1.0.0
- ✅ 基础图片上传功能
- ✅ 教师点评打分系统
- ✅ 响应式界面设计
- ✅ 数据持久化存储

## 许可证

MIT License - 详见 LICENSE 文件

## 联系方式

如有问题或建议，请联系系统管理员。